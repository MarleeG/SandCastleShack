{"ast":null,"code":"import _toConsumableArray from \"/Users/ChristinaGerard/Desktop/personal_projects/SandCastleShack/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/ChristinaGerard/Desktop/personal_projects/SandCastleShack/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ChristinaGerard/Desktop/personal_projects/SandCastleShack/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ChristinaGerard/Desktop/personal_projects/SandCastleShack/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ChristinaGerard/Desktop/personal_projects/SandCastleShack/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ChristinaGerard/Desktop/personal_projects/SandCastleShack/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ChristinaGerard/Desktop/personal_projects/SandCastleShack/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/ChristinaGerard/Desktop/personal_projects/SandCastleShack/src/components/menuSelection/menuSelection.js\";\nimport React, { Component } from 'react';\nimport { Alert, FormGroup, Button, ControlLabel, FormControl } from 'react-bootstrap';\nimport './menuSelection.css';\n\nvar MenuSelection =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MenuSelection, _Component);\n\n  function MenuSelection(props) {\n    var _this;\n\n    _classCallCheck(this, MenuSelection);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MenuSelection).call(this, props));\n    _this.menu = _this.menu.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.menuOptions = _this.menuOptions.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.menuItemsSelected = _this.menuItemsSelected.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.kidsOrdering = _this.kidsOrdering.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.defaultSetting = _this.defaultSetting.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeMenuPrice = _this.changeMenuPrice.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOrder = _this.handleOrder.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.calculateTotal = _this.calculateTotal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      buttonText: 'ORDER',\n      currentKidQuestion: 1,\n      currentTeenQuestion: 1,\n      currentAdultQuestion: 1,\n      currentSeniorQuestion: 1,\n      maximumOrders: 0,\n      members: '',\n      menu: [{\n        type: 'Soup',\n        price: 2.5,\n        checked: false\n      }, {\n        type: 'Wings',\n        price: 5.75,\n        checked: false\n      }, {\n        type: 'Burger',\n        price: 4.95,\n        checked: false\n      }, {\n        type: 'Chicken Sandwhich',\n        price: 5.95,\n        checked: false\n      }, {\n        type: 'Fries',\n        price: 1.99,\n        checked: false\n      }, {\n        type: 'Pie',\n        price: 2.95,\n        checked: false\n      }, {\n        type: 'Ice Cream',\n        price: 2.99,\n        checked: false\n      }, {\n        type: 'Soft Drink',\n        price: 1.5,\n        checked: false\n      }, {\n        type: 'Coffee',\n        price: 1,\n        checked: false\n      }],\n      message: '',\n      orderButton: false,\n      orderPrices: [],\n      orders: 0,\n      originalPricing: [],\n      position: ['first', 'second', 'third', 'fourth', 'fifth', 'sixth', 'seventh', 'eigth', 'ninth', 'tenth'],\n      totalOrdersMade: 0,\n      orderingFor: 'kid'\n    };\n    return _this;\n  }\n\n  _createClass(MenuSelection, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var _this2 = this;\n\n      if (props.attendingMembers !== undefined) {\n        this.setState({\n          members: props.attendingMembers,\n          maximumOrders: props.attendingMembers.kids + props.attendingMembers.teens + props.attendingMembers.adults + props.attendingMembers.seniors\n        }, function () {\n          _this2.handleOrder();\n        });\n      }\n    }\n  }, {\n    key: \"calculateTotal\",\n    value: function calculateTotal() {\n      this.setState({\n        orderButton: true,\n        message: ''\n      });\n      var total = 0;\n      this.state.orderPrices.forEach(function (element) {\n        total += element;\n      });\n      this.props.getTotal(total);\n    }\n  }, {\n    key: \"handleOrder\",\n    value: function handleOrder() {\n      var _this3 = this;\n\n      var original_prices = [];\n      this.state.menu.forEach(function (element) {\n        original_prices.push(element.price);\n      });\n      this.setState({\n        originalPricing: original_prices\n      });\n      var _this$state$members = this.state.members,\n          kids = _this$state$members.kids,\n          teens = _this$state$members.teens,\n          adults = _this$state$members.adults,\n          seniors = _this$state$members.seniors;\n\n      if (kids > 0 && this.state.currentKidQuestion <= kids) {\n        this.changeMenuPrice(0); // this.kidsOrdering()\n\n        var kid_position = this.state.position[this.state.currentKidQuestion - 1];\n        this.setState({\n          message: \"What will the \".concat(kid_position, \" \").concat(this.state.orderingFor, \" order?\")\n        });\n      } else {\n        var position = this.state.position[this.state.currentTeenQuestion - 1];\n\n        if (teens > 0 && this.state.currentTeenQuestion <= teens) {\n          this.setState({\n            orderingFor: 'teen'\n          }, function () {\n            _this3.setState({\n              message: \"What will the \".concat(position, \" \").concat(_this3.state.orderingFor, \" order?\")\n            });\n\n            _this3.changeMenuPrice(.85);\n          });\n        } else {\n          if (adults > 0 && this.state.currentAdultQuestion <= adults) {\n            var adult_position = this.state.position[this.state.currentAdultQuestion - 1];\n            this.setState({\n              orderingFor: 'adult'\n            }, function () {\n              _this3.setState({\n                message: \"What will the \".concat(adult_position, \" \").concat(_this3.state.orderingFor, \" order?\")\n              });\n\n              _this3.changeMenuPrice(1);\n            });\n          } else {\n            if (seniors > 0 && this.state.currentSeniorQuestion <= seniors) {\n              var senior_position = this.state.position[this.state.currentSeniorQuestion - 1];\n              this.setState({\n                orderingFor: 'senior'\n              }, function () {\n                _this3.setState({\n                  message: \"What will the \".concat(senior_position, \" \").concat(_this3.state.orderingFor, \" order?\")\n                });\n\n                _this3.changeMenuPrice(.25);\n              });\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var _this4 = this;\n\n      var pricing = 0;\n      this.state.menu.forEach(function (item) {\n        if (item.checked) {\n          pricing += item.price;\n        }\n      });\n\n      switch (this.state.orderingFor) {\n        case 'kid':\n          this.setState({\n            currentKidQuestion: this.state.currentKidQuestion + 1\n          });\n          break;\n\n        case 'teen':\n          this.setState({\n            currentTeenQuestion: this.state.currentTeenQuestion + 1\n          });\n          break;\n\n        case 'adult':\n          this.setState({\n            currentAdultQuestion: this.state.currentAdultQuestion + 1\n          });\n          break;\n\n        case 'senior':\n          this.setState({\n            currentSeniorQuestion: this.state.currentSeniorQuestion + 1\n          });\n          break;\n\n        default:\n          alert('ERROR: RELOAD PAGE');\n      }\n\n      this.setState({\n        orderPrices: [pricing].concat(_toConsumableArray(this.state.orderPrices)),\n        orders: this.state.orders + 1\n      }, function () {\n        if (_this4.state.orders === _this4.state.maximumOrders) {\n          _this4.calculateTotal();\n        } else {\n          _this4.defaultSetting();\n\n          _this4.handleOrder();\n        }\n      });\n    }\n  }, {\n    key: \"defaultSetting\",\n    value: function defaultSetting() {\n      var _this5 = this;\n\n      var menuItems = [];\n      this.state.menu.forEach(function (element) {\n        menuItems.push(element);\n      });\n      menuItems.forEach(function (element, index) {\n        element.price = _this5.state.originalPricing[index];\n\n        if (element.checked) {\n          element.checked = false;\n        }\n      });\n      this.setState({\n        menu: menuItems\n      });\n    }\n  }, {\n    key: \"kidsOrdering\",\n    value: function kidsOrdering() {\n      console.log('-------------------------------------------'); // const position = this.state.position[this.state.currentKidQuestion - 1];\n      // this.setState({\n      //     message: `What will the ${position} ${this.state.orderingFor} order?`\n      // });\n    }\n  }, {\n    key: \"changeMenuPrice\",\n    value: function changeMenuPrice(percentage) {\n      var menuItems = this.state.menu;\n      menuItems.forEach(function (item) {\n        item.price = item.price.toFixed(2) * percentage;\n      });\n      this.setState({\n        menu: menuItems\n      });\n    }\n  }, {\n    key: \"menuItemsSelected\",\n    value: function menuItemsSelected(menuItem, index) {\n      var all_menu_items = [];\n      this.state.menu.forEach(function (x) {\n        return all_menu_items.push(x);\n      });\n      all_menu_items[index].checked = !this.state.menu[index].checked;\n      this.setState({\n        menu: all_menu_items\n      });\n    }\n  }, {\n    key: \"menuOptions\",\n    value: function menuOptions() {\n      var _this6 = this;\n\n      return this.state.menu.map(function (menuItem, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          onClick: function onClick() {\n            return _this6.menuItemsSelected(menuItem, index);\n          },\n          value: menuItem.type,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, menuItem.type, \"..........$\", menuItem.price.toFixed(2));\n      });\n    }\n  }, {\n    key: \"menu\",\n    value: function menu() {\n      return React.createElement(\"div\", {\n        className: \"menuOptions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        controlId: \"formControlsSelectMultiple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Select from the menu below\"), React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Hold \", React.createElement(\"code\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"CMD\"), \" down to select multiple\"), React.createElement(FormControl, {\n        componentClass: \"select\",\n        disabled: this.state.orderButton,\n        multiple: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, this.menuOptions()), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"submit\",\n        bsStyle: \"primary\",\n        disabled: this.state.orderButton,\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, this.state.buttonText)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, this.props.appear ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"questionThree\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \"What's on the Castle Shack menu?\"), this.state.message ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Alert, {\n        bsStyle: \"info\",\n        onDismiss: this.handleDismiss,\n        className: \"alert-message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, this.state.message))) : null, React.createElement(\"div\", {\n        className: \"contentsThree\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, this.menu())) : null);\n    }\n  }]);\n\n  return MenuSelection;\n}(Component);\n\nexport default MenuSelection;","map":{"version":3,"sources":["/Users/ChristinaGerard/Desktop/personal_projects/SandCastleShack/src/components/menuSelection/menuSelection.js"],"names":["React","Component","Alert","FormGroup","Button","ControlLabel","FormControl","MenuSelection","props","menu","bind","handleChange","handleSubmit","menuOptions","menuItemsSelected","kidsOrdering","defaultSetting","changeMenuPrice","handleOrder","calculateTotal","state","buttonText","currentKidQuestion","currentTeenQuestion","currentAdultQuestion","currentSeniorQuestion","maximumOrders","members","type","price","checked","message","orderButton","orderPrices","orders","originalPricing","position","totalOrdersMade","orderingFor","attendingMembers","undefined","setState","kids","teens","adults","seniors","total","forEach","element","getTotal","original_prices","push","kid_position","adult_position","senior_position","pricing","item","alert","menuItems","index","console","log","percentage","toFixed","menuItem","all_menu_items","x","map","appear","handleDismiss"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Alert, FormGroup, Button, ControlLabel, FormControl } from 'react-bootstrap';\n\nimport './menuSelection.css'\n\nclass MenuSelection extends Component {\n    constructor(props) {\n        super(props);\n        this.menu = this.menu.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.menuOptions = this.menuOptions.bind(this);\n        this.menuItemsSelected = this.menuItemsSelected.bind(this)\n        this.kidsOrdering = this.kidsOrdering.bind(this);\n        this.defaultSetting = this.defaultSetting.bind(this);\n        this.changeMenuPrice = this.changeMenuPrice.bind(this);\n        this.handleOrder = this.handleOrder.bind(this);\n        this.calculateTotal = this.calculateTotal.bind(this);\n\n        this.state = {\n            buttonText: 'ORDER',\n            currentKidQuestion: 1,\n            currentTeenQuestion: 1,\n            currentAdultQuestion: 1,\n            currentSeniorQuestion: 1,\n            maximumOrders: 0,\n            members: '',\n            menu: [\n                { type: 'Soup', price: 2.5, checked: false },\n                { type: 'Wings', price: 5.75, checked: false },\n                { type: 'Burger', price: 4.95, checked: false },\n                { type: 'Chicken Sandwhich', price: 5.95, checked: false },\n                { type: 'Fries', price: 1.99, checked: false },\n                { type: 'Pie', price: 2.95, checked: false },\n                { type: 'Ice Cream', price: 2.99, checked: false },\n                { type: 'Soft Drink', price: 1.5, checked: false },\n                { type: 'Coffee', price: 1, checked: false }\n            ],\n            message: '',\n            orderButton: false,\n            orderPrices: [],\n            orders: 0,\n            originalPricing: [],\n            position: ['first', 'second', 'third', 'fourth', 'fifth', 'sixth', 'seventh', 'eigth', 'ninth', 'tenth'],\n            totalOrdersMade: 0,\n            orderingFor: 'kid'\n        }\n    }\n\n    componentWillReceiveProps(props) {\n        if (props.attendingMembers !== undefined) {\n            this.setState({\n                members: props.attendingMembers,\n                maximumOrders: props.attendingMembers.kids + props.attendingMembers.teens + props.attendingMembers.adults + props.attendingMembers.seniors\n            }, () => {\n                this.handleOrder();\n            })\n        }\n    }\n\n    calculateTotal() {\n        this.setState({\n            orderButton: true,\n            message: ''\n        })\n        var total = 0;\n        this.state.orderPrices.forEach(element => {\n            total += element;\n        })\n        this.props.getTotal(total);\n    }\n\n\n    handleOrder() {\n        var original_prices = []\n        this.state.menu.forEach(element => {\n            original_prices.push(element.price);\n        })\n\n        this.setState({\n            originalPricing: original_prices\n        })\n\n        const { kids, teens, adults, seniors } = this.state.members;\n        if (kids > 0 && this.state.currentKidQuestion <= kids) {\n\n            this.changeMenuPrice(0);\n            // this.kidsOrdering()\n            const kid_position = this.state.position[this.state.currentKidQuestion - 1];\n            \n            this.setState({\n                message: `What will the ${kid_position} ${this.state.orderingFor} order?`\n            });\n\n        } else {\n            const position = this.state.position[this.state.currentTeenQuestion - 1];\n\n            if (teens > 0 && this.state.currentTeenQuestion <= teens) {\n                this.setState({\n                    orderingFor: 'teen',\n                }, () => {\n                    this.setState({\n                        message: `What will the ${position} ${this.state.orderingFor} order?`\n                    })\n                    this.changeMenuPrice(.85);\n                })\n            } else {\n                if (adults > 0 && this.state.currentAdultQuestion <= adults) {\n                    const adult_position = this.state.position[this.state.currentAdultQuestion - 1];\n                    this.setState({\n                        orderingFor: 'adult'\n                    }, () => {\n                        this.setState({\n                            message: `What will the ${adult_position} ${this.state.orderingFor} order?`\n                        })\n                        this.changeMenuPrice(1);\n                    })\n                } else {\n                    if (seniors > 0 && this.state.currentSeniorQuestion <= seniors) {\n\n                        const senior_position = this.state.position[this.state.currentSeniorQuestion - 1];\n                        this.setState({\n                            orderingFor: 'senior'\n                        }, () => {\n                            this.setState({\n                                message: `What will the ${senior_position} ${this.state.orderingFor} order?`\n                            })\n                            this.changeMenuPrice(.25)\n                        })\n                    }\n\n                }\n            }\n        }\n    }\n\n    handleSubmit() {\n        var pricing = 0;\n        this.state.menu.forEach(item => {\n            if (item.checked) {\n                pricing += item.price\n            }\n        })\n\n        switch (this.state.orderingFor) {\n            case 'kid': this.setState({ currentKidQuestion: this.state.currentKidQuestion + 1 }); break;\n            case 'teen': this.setState({ currentTeenQuestion: this.state.currentTeenQuestion + 1 }); break;\n            case 'adult': this.setState({ currentAdultQuestion: this.state.currentAdultQuestion + 1 }); break;\n            case 'senior': this.setState({ currentSeniorQuestion: this.state.currentSeniorQuestion + 1 }); break;\n            default: alert('ERROR: RELOAD PAGE')\n        }\n\n        this.setState({\n            orderPrices: [pricing, ...this.state.orderPrices],\n            orders: this.state.orders + 1,\n        }, () => {\n            if (this.state.orders === this.state.maximumOrders) {\n                this.calculateTotal()\n            } else {\n                this.defaultSetting();\n                this.handleOrder();\n            }\n\n        })\n    }\n\n    defaultSetting() {\n        var menuItems = [];\n        this.state.menu.forEach(element => {\n            menuItems.push(element)\n        });\n\n        menuItems.forEach((element, index) => {\n            element.price = this.state.originalPricing[index]\n            if (element.checked) {\n                element.checked = false\n            }\n        });\n\n        this.setState({\n            menu: menuItems\n        });\n    }\n\n    kidsOrdering() {\n        console.log('-------------------------------------------');\n\n        // const position = this.state.position[this.state.currentKidQuestion - 1];\n        // this.setState({\n        //     message: `What will the ${position} ${this.state.orderingFor} order?`\n        // });\n    }\n\n    changeMenuPrice(percentage) {\n        var menuItems = this.state.menu;\n        menuItems.forEach(item => {\n            item.price = item.price.toFixed(2) * percentage\n        });\n\n        this.setState({\n            menu: menuItems\n        })\n    }\n\n    menuItemsSelected(menuItem, index) {\n        var all_menu_items = [];\n        this.state.menu.forEach(x => all_menu_items.push(x));\n        all_menu_items[index].checked = !this.state.menu[index].checked;\n        this.setState({\n            menu: all_menu_items\n        })\n    }\n\n    menuOptions() {\n        return (\n            this.state.menu.map((menuItem, index) => {\n                return (\n                    <option key={index} onClick={() => this.menuItemsSelected(menuItem, index)} value={menuItem.type}>{menuItem.type}..........${menuItem.price.toFixed(2)}</option>\n                )\n            })\n        )\n    }\n    menu() {\n        return (\n            <div className='menuOptions'>\n                <FormGroup controlId=\"formControlsSelectMultiple\">\n                    <ControlLabel>Select from the menu below</ControlLabel>\n                    <ControlLabel>Hold <code>CMD</code> down to select multiple</ControlLabel>\n\n                    <FormControl componentClass=\"select\" disabled={this.state.orderButton} multiple>\n                        {/* <option value=\"select\">Select which menu item(s) you would like?</option> */}\n                        {this.menuOptions()}\n                    </FormControl>\n                    <br />\n                    <Button type=\"submit\" bsStyle='primary' disabled={this.state.orderButton} onClick={this.handleSubmit}>{this.state.buttonText}</Button>\n                </FormGroup>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div>\n                {this.props.appear ?\n                    <div>\n\n                        <h4 className='questionThree'>\n                            What's on the Castle Shack menu?\n                        </h4>\n\n                        {this.state.message ? <div>\n                            <Alert bsStyle=\"info\" onDismiss={this.handleDismiss} className='alert-message'>\n                                <h4>\n                                    {this.state.message}\n                                </h4>\n                            </Alert>\n                        </div> : null}\n\n\n                        <div className='contentsThree'>\n                            {this.menu()}\n                        </div>\n\n\n\n                    </div> : null}\n            </div>\n        )\n    }\n}\n\nexport default MenuSelection;"]},"metadata":{},"sourceType":"module"}